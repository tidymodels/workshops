<script>
Reveal.addEventListener( 'slidechanged', function( event ) {
  console.log("hello")

  slide_id = event.currentSlide.id
  link = "annotations" + ".html#" + slide_id

  var annotation_div = document.createElement('div')
  annotation_div.setAttribute("class", "annotation-link")

  var notes_link = document.createElement('a')
  notes_link.setAttribute("href", link)
  notes_link.setAttribute("target", "_blank")

  var iii = document.createElement('i')
  iii.setAttribute("class", "fa fa-info")
  notes_link.appendChild(iii)

  annotation_div.appendChild(notes_link)

  var tmp = event.currentTarget.getElementsByClassName("annotation-link")
  if (tmp.length === 1) {
    tmp[0].remove()
  }

  if (event.currentSlide.classList.contains("annotation")) {
    event.currentTarget.append(annotation_div)
  }
} );

</script>
